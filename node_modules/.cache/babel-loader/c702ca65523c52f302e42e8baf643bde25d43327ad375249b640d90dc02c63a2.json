{"ast":null,"code":"var _jsxFileName = \"/Users/nicholasmakdessi/Desktop/Blockchain/Mentorship/capstone/aggregator/src/components/Navigation.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Blockies from 'react-blockies';\nimport logo from '../logo.svg';\nimport { loadAccount, loadBalances } from '../store/interactions';\nimport { selectAmm } from '../store/reducers/amm';\nimport config from '../config.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Navigation = () => {\n  _s();\n  const chainId = useSelector(state => state.provider.chainId);\n  const account = useSelector(state => state.provider.account);\n  const tokens = useSelector(state => state.tokens.contracts);\n  const amms = useSelector(state => state.amm.contracts); // Assuming 'contracts' holds both AMM instances\n  const selectedAmm = useSelector(state => state.amm.selectedAmm); // The key for the currently selected AMM\n\n  const dispatch = useDispatch();\n  const connectHandler = async () => {\n    const loadedAccount = await loadAccount(dispatch);\n    // Use the selected AMM contract instance for balance loading\n    const currentAmmContract = amms[selectedAmm];\n    if (currentAmmContract && tokens.length === 2) {\n      await loadBalances(currentAmmContract, tokens, loadedAccount, dispatch);\n    } else {\n      console.error('AMM contract is not loaded yet or tokens are not set.');\n    }\n  };\n  const networkHandler = async e => {\n    await window.ethereum.request({\n      method: 'wallet_switchEthereumChain',\n      params: [{\n        chainId: e.target.value\n      }]\n    });\n  };\n  const ammHandler = async e => {\n    dispatch(selectAmm(e.target.value));\n    // Optionally, refresh balances for the new AMM if the account is already loaded\n    if (account && tokens.length === 2) {\n      const newAmmContract = amms[e.target.value];\n      if (newAmmContract) {\n        await loadBalances(newAmmContract, tokens, account, dispatch);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Navbar, {\n    className: \"my-3 navbar-custom\",\n    expand: \"lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"logo\",\n      src: logo,\n      width: \"100\",\n      height: \"100\",\n      className: \"d-inline-block align-top mx-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n      className: \"text-white\",\n      children: \"Meridian Finance \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n      \"aria-controls\": \"nav\",\n      className: \"navbar-toggler-custom\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n      id: \"nav\",\n      className: \"justify-content-end\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Select, {\n          \"aria-label\": \"AMM Selector\",\n          value: selectedAmm,\n          onChange: ammHandler,\n          style: {\n            maxWidth: '200px',\n            marginLeft: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"amm1\",\n            children: \"AMM 1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"amm2\",\n            children: \"AMM 2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n          \"aria-label\": \"Network Selector\",\n          value: config[chainId] ? `0x${chainId.toString(16)}` : `0`,\n          onChange: networkHandler,\n          style: {\n            maxWidth: '200px',\n            marginRight: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            disabled: true,\n            children: \"Select Network\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0x7A69\",\n            children: \"Localhost\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0x5\",\n            children: \"Goerli\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), account ? /*#__PURE__*/_jsxDEV(Navbar.Text, {\n          className: \"d-flex align-items-center text-white\",\n          children: [account.slice(0, 5) + '...' + account.slice(38, 42), /*#__PURE__*/_jsxDEV(Blockies, {\n            seed: account,\n            size: 10,\n            scale: 3,\n            color: \"#2187D0\",\n            bgColor: \"#F1F2F9\",\n            spotColor: \"#767F92\",\n            className: \"identicon mx-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          onClick: connectHandler,\n          className: \"btn-custom\",\n          children: \"Connect\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(Navigation, \"pDYAoU+aqyNFuTX23LTtFRICSDo=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useSelector, useDispatch];\n});\n_c = Navigation;\nexport default Navigation;\nvar _c;\n$RefreshReg$(_c, \"Navigation\");","map":{"version":3,"names":["React","useSelector","useDispatch","Navbar","Form","Button","Blockies","logo","loadAccount","loadBalances","selectAmm","config","jsxDEV","_jsxDEV","Navigation","_s","chainId","state","provider","account","tokens","contracts","amms","amm","selectedAmm","dispatch","connectHandler","loadedAccount","currentAmmContract","length","console","error","networkHandler","e","window","ethereum","request","method","params","target","value","ammHandler","newAmmContract","className","expand","children","alt","src","width","height","fileName","_jsxFileName","lineNumber","columnNumber","Brand","Toggle","Collapse","id","Select","onChange","style","maxWidth","marginLeft","toString","marginRight","disabled","Text","slice","seed","size","scale","color","bgColor","spotColor","onClick","_c","$RefreshReg$"],"sources":["/Users/nicholasmakdessi/Desktop/Blockchain/Mentorship/capstone/aggregator/src/components/Navigation.js"],"sourcesContent":["import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Blockies from 'react-blockies';\nimport logo from '../logo.svg';\n\nimport { loadAccount, loadBalances } from '../store/interactions';\nimport { selectAmm } from '../store/reducers/amm';\n\nimport config from '../config.json'\n\n\nconst Navigation = () => {\n  const chainId = useSelector(state => state.provider.chainId);\n  const account = useSelector(state => state.provider.account);\n  const tokens = useSelector(state => state.tokens.contracts);\n  const amms = useSelector(state => state.amm.contracts); // Assuming 'contracts' holds both AMM instances\n  const selectedAmm = useSelector(state => state.amm.selectedAmm); // The key for the currently selected AMM\n\n  const dispatch = useDispatch();\n\n  const connectHandler = async () => {\n    const loadedAccount = await loadAccount(dispatch);\n    // Use the selected AMM contract instance for balance loading\n    const currentAmmContract = amms[selectedAmm];\n    if (currentAmmContract && tokens.length === 2) {\n      await loadBalances(currentAmmContract, tokens, loadedAccount, dispatch);\n    } else {\n      console.error('AMM contract is not loaded yet or tokens are not set.');\n    }\n  };\n\n  const networkHandler = async (e) => {\n    await window.ethereum.request({\n      method: 'wallet_switchEthereumChain',\n      params: [{ chainId: e.target.value }],\n    });\n  };\n\n  const ammHandler = async (e) => {\n    dispatch(selectAmm(e.target.value));\n    // Optionally, refresh balances for the new AMM if the account is already loaded\n    if (account && tokens.length === 2) {\n      const newAmmContract = amms[e.target.value];\n      if (newAmmContract) {\n        await loadBalances(newAmmContract, tokens, account, dispatch);\n      }\n    }\n  };\n\n  return (\n    <Navbar className='my-3 navbar-custom' expand=\"lg\">\n      <img\n        alt=\"logo\"\n        src={logo}\n        width=\"100\"\n        height=\"100\"\n        className=\"d-inline-block align-top mx-3\"\n      />\n      <Navbar.Brand className='text-white' >Meridian Finance </Navbar.Brand>\n\n      <Navbar.Toggle aria-controls=\"nav\" className='navbar-toggler-custom' />\n      <Navbar.Collapse id=\"nav\" className=\"justify-content-end\">\n\n        <div className=\"d-flex justify-content-center mt-3\"> \n          <Form.Select\n            aria-label=\"AMM Selector\"\n            value={selectedAmm}\n            onChange={ammHandler}\n            style={{ maxWidth: '200px', marginLeft: '20px' }}\n          >\n            <option value=\"amm1\">AMM 1</option>\n            <option value=\"amm2\">AMM 2</option>\n          </Form.Select>\n\n          <Form.Select\n            aria-label=\"Network Selector\"\n            value={config[chainId] ? `0x${chainId.toString(16)}` : `0`}\n            onChange={networkHandler}\n            style={{ maxWidth: '200px', marginRight: '20px' }}\n          >\n            <option value=\"0\" disabled>Select Network</option>\n            <option value=\"0x7A69\">Localhost</option>\n            <option value=\"0x5\">Goerli</option>\n          </Form.Select>\n\n          {account ? (\n            <Navbar.Text className='d-flex align-items-center text-white'>\n              {account.slice(0, 5) + '...' + account.slice(38, 42)}\n              <Blockies\n                seed={account}\n                size={10}\n                scale={3}\n                color=\"#2187D0\"\n                bgColor=\"#F1F2F9\"\n                spotColor=\"#767F92\"\n                className=\"identicon mx-2\"\n\n              />\n            </Navbar.Text>\n          ) : (\n            <Button onClick={connectHandler} className='btn-custom'>Connect</Button>\n          )}\n\n\n\n        </div>\n\n      </Navbar.Collapse>\n    </Navbar>\n  );\n}\n\nexport default Navigation;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}