{"ast":null,"code":"var _jsxFileName = \"/Users/nicholasmakdessi/Desktop/Blockchain/Mentorship/capstone/aggregator/src/components/Swap.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { ethers } from 'ethers';\nimport Alert from './Alert';\nimport { swap, loadBalances } from '../store/interactions';\nimport './component.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Swap = () => {\n  _s();\n  const [inputToken, setInputToken] = useState(null);\n  const [outputToken, setOutputToken] = useState(null);\n  const [inputAmount, setInputAmount] = useState(0);\n  const [outputAmount, setOutputAmount] = useState(0);\n  const [price, setPrice] = useState(0);\n  const [showAlert, setShowAlert] = useState(false);\n  const provider = useSelector(state => state.provider.connection);\n  const account = useSelector(state => state.provider.account);\n  const tokens = useSelector(state => state.tokens.contracts);\n  const symbols = useSelector(state => state.tokens.symbols);\n  const balances = useSelector(state => state.tokens.balances);\n  const selectedAmm = useSelector(state => state.amm.selectedAmm);\n  const ammContracts = useSelector(state => state.amm.contracts);\n  const amm = ammContracts[selectedAmm];\n  const isSwapping = useSelector(state => state.amm.swapping.isSwapping);\n  const isSuccess = useSelector(state => state.amm.swapping.isSuccess);\n  const transactionHash = useSelector(state => state.amm.swapping.transactionHash);\n  const dispatch = useDispatch();\n  const inputHandler = async e => {\n    if (!inputToken || !outputToken) {\n      window.alert('Please select token');\n      return;\n    }\n    if (inputToken === outputToken) {\n      window.alert('Invalid token pair');\n      return;\n    }\n    if (inputToken === 'DAPP') {\n      setInputAmount(e.target.value);\n      const _token1Amount = ethers.utils.parseUnits(e.target.value, 'ether');\n      const result = await amm.calculateToken1Swap(_token1Amount);\n      const _token2Amount = ethers.utils.formatUnits(result.toString(), 'ether');\n      setOutputAmount(_token2Amount.toString());\n    } else {\n      setInputAmount(e.target.value);\n      const _token2Amount = ethers.utils.parseUnits(e.target.value, 'ether');\n      const result = await amm.calculateToken2Swap(_token2Amount);\n      const _token1Amount = ethers.utils.formatUnits(result.toString(), 'ether');\n      setOutputAmount(_token1Amount.toString());\n    }\n  };\n  const swapHandler = async e => {\n    e.preventDefault();\n    setShowAlert(false);\n    if (inputToken === outputToken) {\n      window.alert('Invalid Token Pair');\n      return;\n    }\n    const _inputAmount = ethers.utils.parseUnits(inputAmount, 'ether');\n\n    // Swap token depending upon which one we're doing...\n    if (inputToken === \"DAPP\") {\n      await swap(provider, amm, tokens[0], inputToken, _inputAmount, dispatch);\n    } else {\n      await swap(provider, amm, tokens[1], inputToken, _inputAmount, dispatch);\n    }\n    await loadBalances(amm, tokens, account, dispatch);\n    await getPrice();\n    setShowAlert(true);\n  };\n  const getPrice = async () => {\n    if (!amm || inputToken === outputToken) {\n      setPrice(0);\n      return;\n    }\n    try {\n      let token1Balance = await amm.token1Balance();\n      let token2Balance = await amm.token2Balance();\n      token1Balance = ethers.utils.formatUnits(token1Balance.toString(), 'ether');\n      token2Balance = ethers.utils.formatUnits(token2Balance.toString(), 'ether');\n      if (inputToken === 'DAPP') {\n        setPrice(token2Balance / token1Balance);\n      } else {\n        setPrice(token1Balance / token2Balance);\n      }\n    } catch (error) {\n      console.error('Error fetching price:', error);\n    }\n  };\n  useEffect(() => {\n    if (amm && inputToken && outputToken) {\n      getPrice();\n    }\n  }, [amm, inputToken, outputToken]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        maxWidth: '450px'\n      },\n      className: \"mx-auto px-4 card-style\",\n      children: account ? /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: swapHandler,\n        style: {\n          maxWidth: '450px',\n          margin: '50px auto'\n        },\n        className: \"form-control\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"my-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Input:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n              muted: true,\n              children: [\"Wallet Balance: \", inputToken === symbols[0] ? balances[0] : inputToken === symbols[1] ? balances[1] : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              placeholder: \"0.0\",\n              min: \"0.0\",\n              step: \"any\",\n              onChange: e => inputHandler(e),\n              disabled: !inputToken,\n              className: \"input-group-custom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n              variant: \"outline-secondary\",\n              title: inputToken ? inputToken : \"Select Token\",\n              className: \"dropdown-menu\",\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => setInputToken(e.target.innerHTML),\n                children: \"DAPP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => setInputToken(e.target.innerHTML),\n                children: \"USD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"my-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Output:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n              muted: true,\n              children: [\"Wallet Balance: \", outputToken === symbols[0] ? balances[0] : outputToken === symbols[1] ? balances[1] : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              placeholder: \"0.0\",\n              value: outputAmount === 0 ? \"\" : outputAmount,\n              disabled: true,\n              className: \"input-group-custom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n              variant: \"outline-secondary\",\n              title: outputToken ? outputToken : \"Select Token\",\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => setOutputToken(e.target.innerHTML),\n                children: \"DAPP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => setOutputToken(e.target.innerHTML),\n                children: \"USD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"my-3\",\n          children: [isSwapping ? /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            style: {\n              display: 'block',\n              margin: '0 auto'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            className: \"btn-custom\",\n            children: \"Swap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n            children: [\"Exchange Rate: \", price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"d-flex justify-content-center align-items-center\",\n        style: {\n          height: '300px'\n        },\n        children: \"Please connect wallet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), isSwapping ? /*#__PURE__*/_jsxDEV(Alert, {\n      message: 'Swap Pending...',\n      transactionHash: null,\n      variant: 'info',\n      setShowAlert: setShowAlert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this) : isSuccess && showAlert ? /*#__PURE__*/_jsxDEV(Alert, {\n      message: 'Swap Successful',\n      transactionHash: transactionHash,\n      variant: 'success',\n      setShowAlert: setShowAlert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }, this) : !isSuccess && showAlert ? /*#__PURE__*/_jsxDEV(Alert, {\n      message: 'Swap Failed',\n      transactionHash: null,\n      variant: 'danger',\n      setShowAlert: setShowAlert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n_s(Swap, \"rGTfWAziwd9359xFH72gdxd2VpA=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useDispatch];\n});\n_c = Swap;\nexport default Swap;\nvar _c;\n$RefreshReg$(_c, \"Swap\");","map":{"version":3,"names":["useState","useEffect","useSelector","useDispatch","Card","Form","InputGroup","Dropdown","DropdownButton","Button","Row","Spinner","ethers","Alert","swap","loadBalances","jsxDEV","_jsxDEV","Fragment","_Fragment","Swap","_s","inputToken","setInputToken","outputToken","setOutputToken","inputAmount","setInputAmount","outputAmount","setOutputAmount","price","setPrice","showAlert","setShowAlert","provider","state","connection","account","tokens","contracts","symbols","balances","selectedAmm","amm","ammContracts","isSwapping","swapping","isSuccess","transactionHash","dispatch","inputHandler","e","window","alert","target","value","_token1Amount","utils","parseUnits","result","calculateToken1Swap","_token2Amount","formatUnits","toString","calculateToken2Swap","swapHandler","preventDefault","_inputAmount","getPrice","token1Balance","token2Balance","error","console","children","style","maxWidth","className","onSubmit","margin","Label","fileName","_jsxFileName","lineNumber","columnNumber","Text","muted","Control","type","placeholder","min","step","onChange","disabled","variant","title","Item","onClick","innerHTML","animation","display","height","message","_c","$RefreshReg$"],"sources":["/Users/nicholasmakdessi/Desktop/Blockchain/Mentorship/capstone/aggregator/src/components/Swap.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { ethers } from 'ethers';\n\nimport Alert from './Alert';\nimport { swap, loadBalances } from '../store/interactions';\n\nimport './component.css';\n\nconst Swap = () => {\n  const [inputToken, setInputToken] = useState(null);\n  const [outputToken, setOutputToken] = useState(null);\n  const [inputAmount, setInputAmount] = useState(0);\n  const [outputAmount, setOutputAmount] = useState(0);\n  const [price, setPrice] = useState(0);\n  const [showAlert, setShowAlert] = useState(false);\n\n  const provider = useSelector(state => state.provider.connection);\n  const account = useSelector(state => state.provider.account);\n  const tokens = useSelector(state => state.tokens.contracts);\n  const symbols = useSelector(state => state.tokens.symbols);\n  const balances = useSelector(state => state.tokens.balances);\n\n  const selectedAmm = useSelector(state => state.amm.selectedAmm);\n  const ammContracts = useSelector(state => state.amm.contracts);\n  const amm = ammContracts[selectedAmm];\n\n  const isSwapping = useSelector(state => state.amm.swapping.isSwapping);\n  const isSuccess = useSelector(state => state.amm.swapping.isSuccess);\n  const transactionHash = useSelector(state => state.amm.swapping.transactionHash);\n\n  const dispatch = useDispatch();\n\n\n  const inputHandler = async (e) => {\n    if (!inputToken || !outputToken) {\n      window.alert('Please select token')\n      return\n    }\n\n    if (inputToken === outputToken) {\n      window.alert('Invalid token pair')\n      return\n    }\n\n    if (inputToken === 'DAPP') {\n      setInputAmount(e.target.value)\n\n      const _token1Amount = ethers.utils.parseUnits(e.target.value, 'ether')\n      const result = await amm.calculateToken1Swap(_token1Amount)\n      const _token2Amount = ethers.utils.formatUnits(result.toString(), 'ether')\n\n      setOutputAmount(_token2Amount.toString())\n\n    } else {\n      setInputAmount(e.target.value)\n\n      const _token2Amount = ethers.utils.parseUnits(e.target.value, 'ether')\n      const result = await amm.calculateToken2Swap(_token2Amount)\n      const _token1Amount = ethers.utils.formatUnits(result.toString(), 'ether')\n\n      setOutputAmount(_token1Amount.toString())\n    }\n\n  }\n\n  const swapHandler = async (e) => {\n    e.preventDefault()\n\n    setShowAlert(false)\n\n    if (inputToken === outputToken) {\n      window.alert('Invalid Token Pair')\n      return\n    }\n\n    const _inputAmount = ethers.utils.parseUnits(inputAmount, 'ether')\n\n    // Swap token depending upon which one we're doing...\n    if (inputToken === \"DAPP\") {\n      await swap(provider, amm, tokens[0], inputToken, _inputAmount, dispatch)\n    } else {\n      await swap(provider, amm, tokens[1], inputToken, _inputAmount, dispatch)\n    }\n\n    await loadBalances(amm, tokens, account, dispatch)\n    await getPrice()\n\n    setShowAlert(true)\n\n  }\n\n  const getPrice = async () => {\n    if (!amm || inputToken === outputToken) {\n      setPrice(0);\n      return;\n    }\n\n    try {\n      let token1Balance = await amm.token1Balance();\n      let token2Balance = await amm.token2Balance();\n\n      token1Balance = ethers.utils.formatUnits(token1Balance.toString(), 'ether');\n      token2Balance = ethers.utils.formatUnits(token2Balance.toString(), 'ether');\n\n      if (inputToken === 'DAPP') {\n        setPrice(token2Balance / token1Balance);\n      } else {\n        setPrice(token1Balance / token2Balance);\n      }\n    } catch (error) {\n      console.error('Error fetching price:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (amm && inputToken && outputToken) {\n      getPrice();\n    }\n  }, [amm, inputToken, outputToken]);\n\n  return (\n    <div>\n      <Card style={{ maxWidth: '450px' }} className='mx-auto px-4 card-style' >\n        {account ? (\n          <Form onSubmit={swapHandler} style={{ maxWidth: '450px', margin: '50px auto' }} className='form-control'>\n\n            <Row className='my-3'>\n              <div className='d-flex justify-content-between'>\n                <Form.Label ><strong>Input:</strong></Form.Label>\n                <Form.Text muted>\n                  Wallet Balance: {\n                    inputToken === symbols[0] ? (\n                      balances[0]\n                    ) : inputToken === symbols[1] ? (\n                      balances[1]\n                    ) : 0\n                  }\n                </Form.Text>\n              </div>\n              <InputGroup >\n                <Form.Control\n                  type=\"number\"\n                  placeholder=\"0.0\"\n                  min=\"0.0\"\n                  step=\"any\"\n                  onChange={(e) => inputHandler(e) }\n                  disabled={!inputToken}\n                  className='input-group-custom'\n                />\n                <DropdownButton\n                  variant=\"outline-secondary\"\n                  title={inputToken ? inputToken : \"Select Token\"}\n                  className='dropdown-menu'\n                >\n                  <Dropdown.Item onClick={(e) => setInputToken(e.target.innerHTML)} >DAPP</Dropdown.Item>\n                  <Dropdown.Item onClick={(e) => setInputToken(e.target.innerHTML)} >USD</Dropdown.Item>\n                </DropdownButton>\n              </InputGroup>\n            </Row>\n\n            <Row className='my-4'>\n              <div className='d-flex justify-content-between'>\n                <Form.Label><strong>Output:</strong></Form.Label>\n                <Form.Text muted>\n                Wallet Balance: {\n                    outputToken === symbols[0] ? (\n                      balances[0]\n                    ) : outputToken === symbols[1] ? (\n                      balances[1]\n                    ) : 0\n                  }\n                </Form.Text>\n              </div>\n              <InputGroup>\n                <Form.Control\n                  type=\"number\"\n                  placeholder=\"0.0\"\n                  value={outputAmount === 0 ? \"\" : outputAmount }\n                  disabled\n                  className='input-group-custom'\n                />\n                <DropdownButton\n                  variant=\"outline-secondary\"\n                  title={outputToken ? outputToken : \"Select Token\"}\n                >\n                  <Dropdown.Item onClick={(e) => setOutputToken(e.target.innerHTML)}>DAPP</Dropdown.Item>\n                  <Dropdown.Item onClick={(e) => setOutputToken(e.target.innerHTML)}>USD</Dropdown.Item>\n                </DropdownButton>\n              </InputGroup>\n            </Row>\n\n            <Row className='my-3'>\n              {isSwapping ? (\n                <Spinner animation=\"border\" style={{ display: 'block', margin: '0 auto' }} />\n              ): (\n                <Button type='submit' className='btn-custom'>Swap</Button>\n              )}\n\n              <Form.Text >\n                Exchange Rate: {price}\n              </Form.Text>\n            </Row>\n\n          </Form>\n\n        ) : (\n          <p\n            className='d-flex justify-content-center align-items-center'\n            style={{ height: '300px' }}\n          >\n            Please connect wallet.\n          </p>\n        )}\n      </Card>\n\n      {isSwapping ? (\n        <Alert\n          message={'Swap Pending...'}\n          transactionHash={null}\n          variant={'info'}\n          setShowAlert={setShowAlert}\n        />\n      ) : isSuccess && showAlert ? (\n        <Alert\n          message={'Swap Successful'}\n          transactionHash={transactionHash}\n          variant={'success'}\n          setShowAlert={setShowAlert}\n        />\n      ) : !isSuccess && showAlert ? (\n        <Alert\n          message={'Swap Failed'}\n          transactionHash={null}\n          variant={'danger'}\n          setShowAlert={setShowAlert}\n        />\n      ) : (\n        <></>\n      )}\n\n    </div>\n  );\n}\n\nexport default Swap;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}